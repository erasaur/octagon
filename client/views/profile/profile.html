<template name="profile">
	{{#contentFor "pageHeader"}}
		<h1>{{formatName _id}} <small>Checkin' out your own profile</small></h1>
		<a href="#" class="btn btn-primary js-toggle-modal" data-toggle="changePassModal">Change Password</a>
		<button class="btn btn-primary" id="js-delete-account">Delete Account</button>
	{{/contentFor}}

	<ul class="list">
		<div class="post-header">
			<h3>Account Information</h3>
		</div>
		<div class="post-content">
			<li><strong>Name:</strong> {{profile.name}}</li>
			<li><strong>Email:</strong> {{formatEmail _id}}</li>
		</div>
		
		<div class="post-header">
			<h3>Club Stats</h3>
		</div>
		<div class="post-content">
			<li><strong>Events Log: </strong></li>
			<li>
				<div class="alert alert-info" style="max-height: 100px; overflow-y: auto;">
					<ul class="list">
					{{#if profile.events.length}}
						{{#each profile.events}}
							<li><strong>{{formatDate event.info.date}}</strong> - Attended <strong>"{{event.info.name}}"</strong> for {{hours}} hours. <strong>MIC:</strong> {{mic}}. <strong>Carpool:</strong> {{carpool}}.</li>
						{{/each}}
					{{else}}
						<li>You have not attended any events yet.</li>
					{{/if}}
					</ul>
				</div>
			</li>
			<li><strong>Points:</strong> {{profile.points}}</li>
			<li><strong>Meetings attended:</strong> {{profile.meetings}}</li>
			<li><strong>Member in Charge:</strong> {{profile.mic}} time(s)</li>
			<li><strong>Carpooled:</strong> {{profile.carpool}} time(s)</li>
			<li><strong>Strikes:</strong> {{profile.strikes}}</li>
			<li><strong>Suggested:</strong> {{profile.suggests}} event(s)</li>
			<li>
				<div class="alert alert-info" style="max-height: 100px; overflow-y: auto;">
					<ul class="list">
					{{#if suggested.count}}
						{{#each suggested}}
							<li>{{formatDate createdAt}} - {{name}} (Status: <strong>{{status}}</strong>)</li>
						{{/each}}
					{{else}}
						<li>You have not suggested any events yet. Go suggest one in the events page! (Now!)</li>
					{{/if}}
					</ul>
				</div>
			</li>
		</div>
	</ul>
</template>